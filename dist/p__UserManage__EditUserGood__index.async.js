"use strict";(self.webpackChunkumi_yiyuangou=self.webpackChunkumi_yiyuangou||[]).push([[278],{18855:function($,T,e){var l=e(49919),t=e(17576),j=e(9519),r=e(50959),C=e(98724),v=e(50979),Z=e(11527),P=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],U=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],x=r.forwardRef(function(a,f){var I=a.fieldProps,D=a.children,R=a.params,K=a.proFieldProps,B=a.mode,O=a.valueEnum,y=a.request,M=a.showSearch,s=a.options,n=(0,t.Z)(a,P),L=(0,r.useContext)(C.Z);return(0,Z.jsx)(v.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,j.h)(O),request:y,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:s,mode:B,showSearch:M,getPopupContainer:L.getPopupContainer},I),ref:f,proFieldProps:K},n),{},{children:D}))}),S=r.forwardRef(function(a,f){var I=a.fieldProps,D=a.children,R=a.params,K=a.proFieldProps,B=a.mode,O=a.valueEnum,y=a.request,M=a.options,s=(0,t.Z)(a,U),n=(0,l.Z)({options:M,mode:B||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},I),L=(0,r.useContext)(C.Z);return(0,Z.jsx)(v.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,j.h)(O),request:y,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({getPopupContainer:L.getPopupContainer},n),ref:f,proFieldProps:K},s),{},{children:D}))}),A=x,u=S,c=A;c.SearchSelect=u,c.displayName="ProFormComponent",T.Z=c},85154:function($,T,e){var l=e(49919),t=e(17576),j=e(50959),r=e(50979),C=e(11527),v=["fieldProps","proFieldProps"],Z=["fieldProps","proFieldProps"],P="text",U=function(u){var c=u.fieldProps,a=u.proFieldProps,f=(0,t.Z)(u,v);return(0,C.jsx)(r.Z,(0,l.Z)({valueType:P,fieldProps:c,filedConfig:{valueType:P},proFieldProps:a},f))},x=function(u){var c=u.fieldProps,a=u.proFieldProps,f=(0,t.Z)(u,Z);return(0,C.jsx)(r.Z,(0,l.Z)({valueType:"password",fieldProps:c,proFieldProps:a,filedConfig:{valueType:P}},f))},S=U;S.Password=x,S.displayName="ProFormComponent",T.Z=S},70835:function($,T,e){e.r(T),e.d(T,{default:function(){return L}});var l=e(57213),t=e.n(l),j=e(25359),r=e.n(j),C=e(49811),v=e.n(C),Z=e(54306),P=e.n(Z),U=e(16915),x=e(16950),S=e(90579),A=e(9845),u=e(28912),c=e(85154),a=e(93889),f=e(50252),I=e(18855),D=e(25107),R=e(51431),K=e(47e3),B=e(32699),O=e.n(B),y=e(50959),M={bg:"bg___Cb7El",back:"back___mA91d"},s=e(11527),n="gUpR",L=function(){var X=(0,y.useState)(),b=P()(X,2),Y=b[0],k=b[1],q=(0,y.useState)(),z=P()(q,2),G=z[0],V=z[1],_=u.A.useForm(),ee=P()(_,1),w=ee[0],ae=(0,D.useLocation)(),h=(0,S.m)(ae.search),re=function(){var p=v()(r()().mark(function i(d){var o,g;return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,x.wx)(d);case 2:o=E.sent,g=o.flag,g&&(R.ZP.success("\u64CD\u4F5C\u6210\u529F"),h.id?H():D.history.back());case 5:case"end":return E.stop()}},i)}));return function(d){return p.apply(this,arguments)}}(),H=function(){D.history.push("/userManage?cPage=".concat(h.cPage,"&pSize=").concat(h.pSize))},oe=function(){var p=v()(r()().mark(function i(){var d,o,g,m;return r()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,x.P4)({userId:Number(h.id)});case 2:d=F.sent,o=d.data,g=d.flag,g&&o&&(m=t()(t()({},o),{},{image:[{uid:0,name:"imageName",url:o.image}]}),w.setFieldsValue(m),V(o.image));case 6:case"end":return F.stop()}},i)}));return function(){return p.apply(this,arguments)}}(),te={maxCount:1,accept:"image/*",customRequest:function(){var p=v()(r()().mark(function d(o){var g,m,E,F,N,J,Q;return r()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return g=o.onSuccess,m=o.file,E=new FormData,E.append("file",m),F=U.q.getItem(),W.next=6,(0,x.e$)({file:m,authorization:F});case 6:N=W.sent,J=N.data,Q=N.flag,Q&&(g(m),V(J));case 10:case"end":return W.stop()}},d)}));function i(d){return p.apply(this,arguments)}return i}()};return(0,y.useEffect)(function(){O().isNil(h.id)||oe()},[h.id]),(0,s.jsxs)("div",{className:M.bg,_nk:"".concat(n,"11"),children:[(0,s.jsxs)("a",{className:M.back,onClick:function(){H()},_nk:"".concat(n,"21"),children:[(0,s.jsx)(A.Z,{_nk:"".concat(n,"31")}),"\u8FD4\u56DE"]}),(0,s.jsxs)(u.A,{form:w,onFinish:function(){var p=v()(r()().mark(function i(d){var o;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:o=O().isNil(h.id)?t()(t()({},d),{},{image:G}):t()(t()({},d),{},{userId:h.id,image:G}),re(o);case 2:case"end":return m.stop()}},i)}));return function(i){return p.apply(this,arguments)}}(),_nk:"".concat(n,"41"),children:[(0,s.jsx)(c.Z,{name:"userName",width:"md",label:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],_nk:"".concat(n,"51")}),(0,s.jsx)(a.Z,{name:"phone",width:"md",label:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"}],_nk:"".concat(n,"61")}),(0,s.jsx)(c.Z,{name:"password",width:"md",label:"\u5BC6\u7801",_nk:"".concat(n,"52")}),(0,s.jsx)(f.Z,{name:"".concat(O().isNil(h.id)?"image_0":"image"),max:1,fieldProps:t()({name:"file",listType:"picture-card"},te),onChange:function(i){k(i.file.name)},extra:Y,label:"\u5934\u50CF",rules:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u56FE\u7247"}],_nk:"".concat(n,"71")}),(0,s.jsx)(I.Z,{width:"xs",options:[{value:1,label:"\u5BA2\u6237"},{value:2,label:"\u673A\u5668\u4EBA"},{value:3,label:"\u5BA2\u670D"}],name:"type",label:"\u7528\u6237\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7528\u6237\u7C7B\u578B"}],_nk:"".concat(n,"81")})]})]})}}}]);
